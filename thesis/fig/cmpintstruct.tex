
    \tcbset
    {enhanced,colframe=blue!70!black,colback=white!50!blue,colupper=red!50!black,
    fonttitle=\bfseries,nobeforeafter,center title, noparskip, size=small, fontupper=\footnotesize}
\begin{tcolorbox}[enhanced, height=.5cm, width=\linewidth, remember as=pp, opacityframe=0.0, opacityback=0.0]\end{tcolorbox}
            \begin{tcolorbox}[tcbox raise base, width=\linewidth, enhanced jigsaw, remember as=cp]
                \begin{tcolorbox}[enhanced jigsaw, breakable, noparskip,opacityframe=0.3, opacityback=0.3, width=\linewidth, size=small]
                    \begin{tcolorbox}[enhanced,center title,width=\linewidth, remember as=sc, height=0.7cm,top=1mm,bottom=1mm]
                        \begin{center}Scanner\end{center}
                    \end{tcolorbox}
                    \begin{tcolorbox}[enhanced,width=\linewidth, remember as=ps,top=1mm,bottom=1mm]
                        \begin{center}Parser\end{center}  
                    \end{tcolorbox}
                    \begin{tcolorbox}[enhanced, width=\linewidth, remember as=sa,top=1mm,bottom=1mm]
                        \begin{center}Semantic Analyzer \end{center} 
                    \end{tcolorbox}
                    \begin{tcolorbox}[enhanced, width=\linewidth, remember as=sco,top=1mm,bottom=1mm]
                        \begin{center}Source Code Optimizer \end{center}
                    \end{tcolorbox}
                \end{tcolorbox}
                \begin{tcolorbox}[enhanced jigsaw, breakable, noparskip,opacityframe=0.3, opacityback=0.3, height=0.7cm, width=\linewidth, remember as=me, watermark text=Middle-End]
                \end{tcolorbox}
                \begin{tcolorbox}[enhanced jigsaw, breakable, noparskip,opacityframe=0.3, opacityback=0.3, width=\linewidth, size=small]
                    \begin{tcolorbox}[enhanced, width=\linewidth, remember as=cg,top=1mm,bottom=1mm]
                        \begin{center}Code Generator  \end{center}
                    \end{tcolorbox}
                    \begin{tcolorbox}[enhanced, width=\linewidth, remember as=tco,top=1mm,bottom=1mm]
                        \begin{center}Target Code Optimizer \end{center}
                    \end{tcolorbox}
                \end{tcolorbox}
            \end{tcolorbox}
            \begin{tikzpicture}[overlay,remember picture,line width=1mm]
                \draw[->, shorten >=-1.5mm] ($(cp.north)+(0,1)$) -- (sc.north);
                \draw[->, shorten >=-1.5mm] (sc.south) -- (ps.north);
                \draw[->, shorten >=-1.5mm] (ps.south) -- (sa.north);
                \draw[->, shorten >=-1.5mm] (sa.south) -- (sco.north);
                \draw[-] (sco.south) -- (me.north);
                \draw[->, shorten >=-1.5mm] (me.south) -- (cg.north);
                \draw[->, shorten >=-1.5mm] (cg.south) -- (tco.north);
                \draw[->] (tco.south) -- ($(cp.south)+(0,-1)$);
            \end{tikzpicture}
            \begin{tikzpicture}[overlay,remember picture,line width=1mm]
                \draw[-, draw=blue!30!white,line width=.5mm, shorten >=.2cm,shorten <=.1cm] (cmp.north east) -- (cp.north west);
                \draw[-, draw=blue!30!white,line width=.5mm, shorten >=.2cm,shorten <=.1cm] (cmp.south east) -- (cp.south west);
            \end{tikzpicture}
